<!DOCTYPE html><html lang="en"> 
<!-- Mirrored from kamranahmed.info/posts/monitor-mysql-using-monit by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 30 Sep 2025 03:09:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><title>How to Monitor MySQL using Monit</title><meta name="description" content="Learn how to monitor and auto-restart MySQL using monit on failure"><link rel="preconnect" href="https://www.google-analytics.com/"><link rel="stylesheet" href="../_astro/background-less.BKeRS0Lf.css">
<style>@keyframes fade-appear{0%{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(254 249 195 / var(--tw-text-opacity))}}@keyframes slide-fade-up-in{0%{opacity:0;transform:translateY(.5rem)}to{opacity:1;transform:translateY(0)}}[data-rmiz-modal-content]{--tw-bg-opacity: 1;background-color:rgb(24 24 27 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}::-moz-selection{--tw-bg-opacity: 1;background-color:rgb(250 204 21 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity))}::selection{--tw-bg-opacity: 1;background-color:rgb(250 204 21 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(113 63 18 / var(--tw-text-opacity))}
</style><script type="module">window.fireEvent=e=>{const{action:n,category:t,label:a,value:i}=e;if(!window.gtag){console.warn("Missing GTAG - Analytics disabled");return}window.gtag("event",n,{event_category:t,event_label:a,value:i})};
</script>
<script type="module" src="../_astro/page.DFwqf4PB.js"></script></head> <body class="bg-zinc-900 text-zinc-400"> <div class="mx-auto max-w-[750px] px-4 pb-20 pt-6 text-lg sm:px-12 md:px-16"> <div class="flex items-center justify-between gap-5 rounded-3xl border border-zinc-700/40 bg-zinc-800 px-5 text-base sm:px-6"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t.html),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZursTB" prefix="r0" component-url="/_astro/MobileNav.DoOW3-tu.js" component-export="MobileNav" renderer-url="/_astro/client.BStqXOaq.js" props="{}" ssr="" client="load" opts="{&quot;name&quot;:&quot;MobileNav&quot;,&quot;value&quot;:true}" await-children=""><div class="relative block sm:hidden"><button type="button" class="flex items-center py-3 text-sm transition-colors hover:text-zinc-300 sm:hidden sm:text-base"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg><span> </span></button></div><!--astro:end--></astro-island> <div class="hidden items-center gap-6 sm:flex"> <a class="relative flex items-center gap-2 py-3 pr-1 text-sm transition-colors hover:text-zinc-300 sm:text-base" href="../index.html" target="_self" data-astro-prefetch="load"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg>Home</a> <a class="relative flex items-center gap-2 py-3 pr-1 text-sm transition-colors hover:text-zinc-300 sm:text-base" href="../work.html" target="_self" data-astro-prefetch="load"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path><rect width="20" height="14" x="2" y="6" rx="2"></rect></svg>Work</a> <a class="relative flex items-center gap-2 py-3 pr-1 text-sm transition-colors hover:text-zinc-300 sm:text-base" href="../projects.html" target="_self" data-astro-prefetch="load"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"></path></svg>Projects</a> <a class="relative flex items-center gap-2 py-3 pr-1 text-sm transition-colors hover:text-zinc-300 sm:text-base" href="../posts.html" target="_self" data-astro-prefetch="load"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-text"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"></path><path d="M8 11h8"></path><path d="M8 7h6"></path></svg>Posts<span class="absolute -bottom-px left-0 right-0 h-px bg-gradient-to-r from-zinc-400/0 via-zinc-400/40 to-zinc-400/0"></span></a> </div> <a class="relative flex items-center gap-2 py-3 pr-1 text-sm transition-colors hover:text-zinc-300 sm:text-base" href="../cdn-cgi/l/email-protection.html#4d262c203f2c232c25202829633e280d2a202c2421632e2220" target="_self" data-astro-prefetch="load"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path></svg>Say Hi</a> </div> <div>  <div class="container"> <div class="mb-6 mt-12"> <h1 class="mb-2 text-balance text-4xl font-bold leading-tight text-neutral-100"> How to Monitor MySQL using Monit </h1> <p class="text-base text-neutral-400"> October 22, 2023 </p> </div> <div class="prose prose-img:bg-white prose-img:px-2 prose-img:py-2 prose-img:rounded-md prose-lg prose-quoteless prose-blockquote:text-zinc-300 prose-blockquote:border-l-8 prose-blockquote:border-l-current prose-blockquote:font-normal prose-neutral-300 prose-h3:text-neutral-100 prose-h4:text-neutral-100 prose-h2:text-neutral-100 prose-code:font-normal prose-code:before:hidden prose-code:after:hidden prose-a:text-blue-300 prose-code:text-yellow-200 prose-strong:text-white prose-h1:text-balance prose-h2:text-balance prose-h3:text-balance prose-h4:text-balance prose-h5:text-balance leading-relaxed text-neutral-300"> <p>Monit is a small Open Source utility for managing and monitoring, processes, files, directories and filesystems on a Unix system. It conducts automatic maintenance and repair and can execute meaningful causal actions in error situations. For example, it can attempt to restart the service if it does not respond, it can trigger alerts on failures and other conditions that you may have configured.</p>
<p>In this guide, we will learn how to monitor and auto-restart MySQL using monit on failure. I am using Ubuntu 20.04 for this guide but you can use any other Linux distribution as well and the steps should be the same.</p>
<h2 id="installing-monit">Installing Monit</h2>
<p>Monit is available in the default Ubuntu repository. You can install it using the following command:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> update</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> apt</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> monit</span></span>
<span class="line"></span></code></pre>
<h2 id="configuring-monit">Configuring Monit</h2>
<p>You can configure monit by editing the configuration file located at <code>/etc/monit/monitrc</code>. Open the file in your favorite editor and uncomment the following lines:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#79B8FF">set</span><span style="color:#9ECBFF"> httpd</span><span style="color:#9ECBFF"> port</span><span style="color:#79B8FF"> 2812</span><span style="color:#9ECBFF"> and</span></span>
<span class="line"><span style="color:#B392F0">    use</span><span style="color:#9ECBFF"> address</span><span style="color:#9ECBFF"> localhost</span></span>
<span class="line"><span style="color:#B392F0">    allow</span><span style="color:#9ECBFF"> localhost</span></span>
<span class="line"><span style="color:#B392F0">    allow</span><span style="color:#9ECBFF"> 0.0.0.0/0</span><span style="color:#6A737D">     # Add any IP address you want to allow</span></span>
<span class="line"><span style="color:#B392F0">    allow</span><span style="color:#9ECBFF"> admin:monit</span></span>
<span class="line"></span></code></pre>
<p>This will allow you to access the monit web interface from your browser. You can change the port number and the username and password as per your preference. If you want to allow access from any IP address, you can use <code>allow</code> directive with the IP address and subnet mask. I have used <code>0.0.0.0/0</code> to allow access from any IP address.</p>
<p>Now you can run the follow command to verify the configuration:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> monit</span><span style="color:#79B8FF"> -t</span></span>
<span class="line"></span></code></pre>
<p>If there are no errors, you can start the monit service:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> monit</span><span style="color:#9ECBFF"> reload</span></span>
<span class="line"></span></code></pre>
<p>Once done, you can use the following command to check the status of the monit service and see if it is running:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> monit</span><span style="color:#9ECBFF"> status</span></span>
<span class="line"></span></code></pre>
<p>Now if you open your browser and go to <code>http://localhost:2812</code>, you should see the monit web interface. You can use the username and password that you have set in the configuration file to login.</p>
<p><img src="https://imgur.com/nwYJxsg" alt="Monit Web Interface"></p>
<p>Alright, now we have monit installed and configured. Let’s move on to the next step and see how we can monitor MySQL using monit.</p>
<h2 id="monitoring-mysql-using-monit">Monitoring MySQL using Monit</h2>
<p>Monit comes with a set of predefined templates that you can use to monitor different services. You can find the list of templates in the <code>/etc/monit/conf-available</code> directory.</p>
<p><img src="https://imgur.com/PxQS68B" alt="Monit Configs"></p>
<p>You can copy the <code>mysql</code> template to <code>/etc/monit/conf-enabled</code> directory. So that it will be loaded by monit when it starts.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> cp</span><span style="color:#9ECBFF"> /etc/monit/conf-available/mysql</span><span style="color:#9ECBFF"> /etc/monit/conf-enabled/mysql</span></span>
<span class="line"></span></code></pre>
<p>If you open the <code>mysql</code> file, you will see the following content:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0"> check</span><span style="color:#9ECBFF"> process</span><span style="color:#9ECBFF"> mysqld</span><span style="color:#9ECBFF"> with</span><span style="color:#9ECBFF"> pidfile</span><span style="color:#9ECBFF"> /var/run/mysqld/mysqld.pid</span></span>
<span class="line"><span style="color:#B392F0">   group</span><span style="color:#9ECBFF"> database</span></span>
<span class="line"><span style="color:#B392F0">   group</span><span style="color:#9ECBFF"> mysql</span></span>
<span class="line"><span style="color:#B392F0">   start</span><span style="color:#9ECBFF"> program</span><span style="color:#9ECBFF"> =</span><span style="color:#9ECBFF"> "/etc/init.d/mysql start"</span></span>
<span class="line"><span style="color:#B392F0">   stop</span><span style="color:#9ECBFF">  program</span><span style="color:#9ECBFF"> =</span><span style="color:#9ECBFF"> "/etc/init.d/mysql stop"</span></span>
<span class="line"><span style="color:#F97583">   if</span><span style="color:#B392F0"> failed</span><span style="color:#9ECBFF"> host</span><span style="color:#9ECBFF"> localhost</span><span style="color:#9ECBFF"> port</span><span style="color:#79B8FF"> 3306</span><span style="color:#9ECBFF"> protocol</span><span style="color:#9ECBFF"> mysql</span><span style="color:#9ECBFF"> with</span><span style="color:#9ECBFF"> timeout</span><span style="color:#79B8FF"> 15</span><span style="color:#9ECBFF"> seconds</span><span style="color:#9ECBFF"> for</span><span style="color:#79B8FF"> 3</span><span style="color:#9ECBFF"> times</span><span style="color:#9ECBFF"> within</span><span style="color:#79B8FF"> 4</span><span style="color:#9ECBFF"> cycles</span><span style="color:#9ECBFF"> then</span><span style="color:#9ECBFF"> restart</span></span>
<span class="line"><span style="color:#F97583">   if</span><span style="color:#B392F0"> failed</span><span style="color:#9ECBFF"> unixsocket</span><span style="color:#9ECBFF"> /var/run/mysqld/mysqld.sock</span><span style="color:#9ECBFF"> protocol</span><span style="color:#9ECBFF"> mysql</span><span style="color:#9ECBFF"> for</span><span style="color:#79B8FF"> 3</span><span style="color:#9ECBFF"> times</span><span style="color:#9ECBFF"> within</span><span style="color:#79B8FF"> 4</span><span style="color:#9ECBFF"> cycles</span><span style="color:#9ECBFF"> then</span><span style="color:#9ECBFF"> restart</span></span>
<span class="line"><span style="color:#F97583">   if</span><span style="color:#B392F0"> 5</span><span style="color:#9ECBFF"> restarts</span><span style="color:#9ECBFF"> with</span><span style="color:#79B8FF"> 5</span><span style="color:#9ECBFF"> cycles</span><span style="color:#9ECBFF"> then</span><span style="color:#9ECBFF"> timeout</span></span>
<span class="line"><span style="color:#B392F0">   depend</span><span style="color:#9ECBFF"> mysql_bin</span></span>
<span class="line"><span style="color:#B392F0">   depend</span><span style="color:#9ECBFF"> mysql_rc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0"> check</span><span style="color:#9ECBFF"> file</span><span style="color:#9ECBFF"> mysql_bin</span><span style="color:#9ECBFF"> with</span><span style="color:#9ECBFF"> path</span><span style="color:#9ECBFF"> /usr/sbin/mysqld</span></span>
<span class="line"><span style="color:#B392F0">   group</span><span style="color:#9ECBFF"> mysql</span></span>
<span class="line"><span style="color:#B392F0">   include</span><span style="color:#9ECBFF"> /etc/monit/templates/rootbin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0"> check</span><span style="color:#9ECBFF"> file</span><span style="color:#9ECBFF"> mysql_rc</span><span style="color:#9ECBFF"> with</span><span style="color:#9ECBFF"> path</span><span style="color:#9ECBFF"> /etc/init.d/mysql</span></span>
<span class="line"><span style="color:#B392F0">   group</span><span style="color:#9ECBFF"> mysql</span></span>
<span class="line"><span style="color:#B392F0">   include</span><span style="color:#9ECBFF"> /etc/monit/templates/rootbin</span></span>
<span class="line"></span></code></pre>
<p>You can see that it is checking the status of the MySQL process and if it is not running, it will restart the service. You can change the configuration as per your requirement.</p>
<p>Now if you reload the monit service, it will start monitoring MySQL:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> monit</span><span style="color:#9ECBFF"> reload</span></span>
<span class="line"></span></code></pre>
<p>Once done, you can check the status of the MySQL service using the following command:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> monit</span><span style="color:#9ECBFF"> status</span></span>
<span class="line"></span></code></pre>
<p>You can also check the status of the MySQL service from the monit web interface by visiting <code>http://localhost:2812</code>.</p>
<h2 id="error-execution-failed">Error: Execution Failed</h2>
<p>Normally if you follow the steps mentioned in this guide to monitor any other serivce, it should work without any issues. But in case of MySQL, you will notice that the status is shown as “Initializating” for some time and then it will change to:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Execution Failed | Does not exist</span></span>
<span class="line"><span></span></span></code></pre>
<p>To fix this issue, you need to update the MySQL service file located at <code>/lib/systemd/system/mysql.service</code>. Copy the value of the <code>PIDFile</code> variable and add it to the <code>ExecStart</code> directive. So that it will look like this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="diff"><code><span class="line"><span style="color:#E1E4E8">[Service]</span></span>
<span class="line"><span style="color:#E1E4E8">Type=notify</span></span>
<span class="line"><span style="color:#E1E4E8">User=mysal</span></span>
<span class="line"><span style="color:#E1E4E8">Group=mysal</span></span>
<span class="line"><span style="color:#E1E4E8">PIDFile=/run/mysqld/mysqld.pid</span></span>
<span class="line"><span style="color:#E1E4E8">PermissionsStartOnly=true</span></span>
<span class="line"><span style="color:#E1E4E8">ExecStartPre=/usr/share/mysql/mysql-systemd-start pre</span></span>
<span class="line"><span style="color:#FDAEB7"><span style="user-select: none;">-</span> ExecStart=/usr/sbin/mysqld</span></span>
<span class="line"><span style="color:#85E89D"><span style="user-select: none;">+</span> ExecStart=/usr/sbin/mysqld --pid-file=/run/mysqld/mysqld.pid</span></span>
<span class="line"><span style="color:#E1E4E8">TimeoutSec=600</span></span>
<span class="line"><span style="color:#E1E4E8">Restart=on-failure</span></span>
<span class="line"><span style="color:#E1E4E8">RuntimeDirectory=mysald</span></span>
<span class="line"><span style="color:#E1E4E8">Runt imeDirectoryMode=755</span></span>
<span class="line"><span style="color:#E1E4E8">LimitNOFILE=10000</span></span>
<span class="line"><span style="color:#6A737D"># Set enviroment variable MYSQLD_PARENT_PID. This is required for restart.</span></span>
<span class="line"><span style="color:#E1E4E8">Environment=MYSOLD PARENT PID=1</span></span>
<span class="line"></span></code></pre>
<p>Now reload the systemctl daemon and restart the MySQL service:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> systemctl</span><span style="color:#9ECBFF"> daemon-reload</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> systemctl</span><span style="color:#9ECBFF"> restart</span><span style="color:#9ECBFF"> mysql</span></span>
<span class="line"></span></code></pre>
<p>Now if you reload the monit service, it will start monitoring MySQL without any issues:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> monit</span><span style="color:#9ECBFF"> reload</span></span>
<span class="line"></span></code></pre>
<p>Voila! You have successfully configured monit to monitor MySQL. You can use the same steps to monitor any other service as well.</p> </div> </div>  </div> </div>  <script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-139582634-1"></script> <script>
    // @ts-nocheck
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-58155965-1');
</script> <script type="text/javascript">
  (function (C, A, L) {
    let p = function (a, ar) {
      a.q.push(ar);
    };
    let d = C.document;
    C.Cal =
      C.Cal ||
      function () {
        let cal = C.Cal;
        let ar = arguments;
        if (!cal.loaded) {
          cal.ns = {};
          cal.q = cal.q || [];
          d.head.appendChild(d.createElement('script')).src = A;
          cal.loaded = true;
        }
        if (ar[0] === L) {
          const api = function () {
            p(api, arguments);
          };
          const namespace = ar[1];
          api.q = api.q || [];
          typeof namespace === 'string'
            ? (cal.ns[namespace] = api) && p(api, ar)
            : p(cal, ar);
          return;
        }
        p(cal, ar);
      };
  })(window, '../../app.cal.com/embed/embed.js', 'init');
  Cal('init', { origin: 'https://cal.com' });

  Cal('ui', {
    styles: { branding: { brandColor: '#000000' } },
    hideEventTypeDetails: false,
    layout: 'month_view',
  });
</script> </body>
<!-- Mirrored from kamranahmed.info/posts/monitor-mysql-using-monit by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 30 Sep 2025 03:09:36 GMT -->
</html>