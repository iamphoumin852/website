"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_history_history_ts-packages_relay-environment_relay-environment_ts-packages_soft-nav-c373e9"],{47723:(e,t,r)=>{r.d(t,{Ct:()=>u,Dv:()=>n,Ff:()=>a,Ns:()=>o,R2:()=>c,XT:()=>d,kF:()=>l,pr:()=>i,qB:()=>h,v:()=>s});let n="agents",a="Agents",i="/copilot/agents",s="tasks",o="Tasks",l="task-view",c=1e4,u="/issues/agent_assignments",d="/copilot/agent-sessions/repositories",h="Provide additional instructions for Copilot";function p(e,t,r,n,a,i,s,o,l,c,u,d=0,h=!1){let f=new Date("2025-06-04T20:00:00.000Z"),m=new Date(f.getTime()-24*u*36e5),g=new Date(f.getTime()-24*d*36e5);return{id:e,global_relay_id:t,number:r,state:n,title:a,reviewable_state:i,url:`http://github.localhost:80/monalisa/smile/pull/${r}`,labels:s,comments:o,assignees_avatar_urls:Array.from({length:l},(t,r)=>`https://avatars.githubusercontent.com/u/${e+r}?v=4`),created_at:m.toISOString(),updated_at:g.toISOString(),merged_at:"merged"===n?g.toISOString():void 0,closed_at:"closed"===n||"merged"===n?g.toISOString():void 0,author:c,head_sha:`${a.toLowerCase().replace(/\s+/g,"")}123456789abcdef0123456789abcdef01234567`.substring(0,40),repository_nwo:"monalisa/smile",inMergeQueue:h}}function f(e,t,r,n,a,i,s,o,l=0,c=0,u){let d=new Date("2025-06-04T20:00:00.000Z"),h=new Date(d.getTime()-60*o*6e4),p=new Date(d.getTime()-60*l*6e4);return{id:e,name:t,user_id:r,agent_id:n,state:a,owner_id:9919,repo_id:4,resource_type:"pull",resource_id:i,resource_global_id:s,created_at:h.toISOString(),last_updated_at:p.toISOString(),completed_at:"completed"===a||"failed"===a?p.toISOString():void 0,workflow_run_id:12340+Math.floor(30*Math.random()),log_entries:[],error:u?{message:u}:null,premium_requests:c,event_identifiers:null,event_type:"api_call_received"}}function m(e,t){return{resource_type:"pull",resource_id:e.id,resource_global_id:e.global_relay_id,session_count:1,latest_session_updated_at:t.last_updated_at,latest_session_state:t.state,pull:e}}(()=>{let e=["cancelled","idle","in_progress","waiting_for_user","completed","failed","timed_out"],t={titles:["Refactor database queries for performance","Implement dark mode theme","Optimize API response times","Add mobile responsive design","Implement caching layer","Add internationalization support","Update documentation and README","Fix critical security vulnerability","Add user authentication system","Initial project setup and configuration","Implement real-time notifications","Add search functionality","Optimize bundle size","Add unit tests coverage","Implement error handling","Add accessibility features","Optimize database connections","Implement feature flags","Migrate to TypeScript","Implement CI/CD pipeline","Add monitoring and alerts"],authors:["alice-dev","bob-backend","charlie-frontend","diana-fullstack","eve-designer","frank-security"],labels:[["performance","database"],["ui","theme","enhancement"],["performance","api"],["mobile","responsive","ui"],["performance","caching","backend"],["i18n","feature","localization"]],errorMessages:["timeout","validation error","resource conflict","permission denied"]},r=1,n="";return[...["open","closed","merged"].flatMap(a=>e.map(e=>{n=`PR_${r}`;let i=(r-1)%t.titles.length,s=t.titles[i],o=t.authors[(r-1)%t.authors.length],l=t.labels[i%t.labels.length],c=m(p(r,n,r,a,s,Math.random()>.7?"draft":"ready",l,Math.floor(15*Math.random())+1,Math.floor(3*Math.random()),o,r,r),f(`session-${r.toString().padStart(3,"0")}`,`${s.split(" ").slice(0,3).join(" ")} - ${e}`,0x996718+r,1143300+r,e,r,n,r,r,Math.floor(10*Math.random()),"failed"===e?`Operation failed due to ${t.errorMessages[Math.floor(4*Math.random())]}`:void 0));return r++,c})),m(p(r,n,r,"open","Add feature flags support (in merge queue)","ready",["feature","flags"],5,1,"alice-dev",21,0,!0),f(`session-${r.toString().padStart(3,"0")}`,"Add feature flags support - in_progress",0x996718+r,1143300+r,"in_progress",r,n,1,0,2,void 0))]})()},51120:(e,t,r)=>{r.d(t,{I:()=>s,j:()=>FetchCAPI401Error});var n=r(34295),a=r(25641),i=r(21067);let FetchCAPI401Error=class FetchCAPI401Error extends Error{constructor(e){super(e),this.name="FetchCAPI401Error"}};async function s({path:e,method:t="GET",streamingResponse:r=!1,body:s}){let o=new n.l,l=await o.getAuthToken();if(!l)throw Error("No token available");let c={authToken:l,basePath:(0,i._$)().copilotApiOverrideUrl??"https://api.githubcopilot.com",method:t,path:e,streamingResponse:r,body:s},u=await (0,a.p)(c);if(!u.ok){if(401===u.status)throw new FetchCAPI401Error("Unauthorized access - token may be invalid or expired");throw Error("Failed to fetch agent sessions")}return u}},11418:(e,t,r)=>{let n;r.d(t,{H:()=>R});var a=r(35750),i=r(18150),s=r(85242),o=r(88243),l=r(16213),c=r(10204),u=new WeakMap,d=new WeakSet;let AliveSession=class AliveSession extends c.ib{constructor(e,t,r,n,a){super(e,()=>(0,o._)(this,d,h).call(this),r,n,void 0,a),(0,l._)(this,d),(0,i._)(this,u,{writable:!0,value:void 0}),(0,s._)(this,u,t)}};function h(){return p((0,a._)(this,u))}async function p(e){let t=await f(e);return t&&t.url&&t.token?m(t.url,t.token):null}async function f(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function m(e,t){let r=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(r.ok)return r.text();throw Error("fetch error")}var g=r(70170),v=r(34095),b=r(82075),w=r(23683),y=r(69599);function S(e,{channel:t,type:r,data:n}){for(let a of e)a.dispatchEvent(new CustomEvent(`socket:${r}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:n}}))}var _=new WeakMap,E=new WeakMap,C=new WeakMap,x=new WeakMap,A=new WeakMap,I=new WeakSet;let k=class AliveSessionProxy{subscribe(e){let t=(0,a._)(this,E).add(...e);t.length&&(0,a._)(this,_).port.postMessage({subscribe:t});let r=new Set(t.map(e=>e.name)),n=e.reduce((e,t)=>{let n=t.topic.name;return(0,c.JR)(n)&&!r.has(n)&&e.add(n),e},new Set);n.size&&(0,a._)(this,_).port.postMessage({requestPresence:Array.from(n)})}unsubscribeAll(...e){let t=(0,a._)(this,E).drain(...e);t.length&&(0,a._)(this,_).port.postMessage({unsubscribe:t});let r=(0,a._)(this,C).removeSubscribers(e);this.sendPresenceMetadataUpdate(r)}updatePresenceMetadata(e){let t=new Set;for(let r of e)(0,a._)(this,C).setMetadata(r),t.add(r.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let r of e)t.push({channelName:r,metadata:(0,a._)(this,C).getChannelMetadata(r)});(0,a._)(this,_).port.postMessage({updatePresenceMetadata:t})}online(){(0,a._)(this,_).port.postMessage({online:!0})}offline(){(0,a._)(this,_).port.postMessage({online:!1})}hangup(){(0,a._)(this,_).port.postMessage({hangup:!0})}constructor(e,t,r,n,u,d){(0,l._)(this,I),(0,i._)(this,_,{writable:!0,value:void 0}),(0,i._)(this,E,{writable:!0,value:new c.m0}),(0,i._)(this,C,{writable:!0,value:new c.VH}),(0,i._)(this,x,{writable:!0,value:void 0}),(0,i._)(this,A,{writable:!0,value:new Map}),(0,s._)(this,x,u),(0,s._)(this,_,new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${n}`,type:"module"})),(0,a._)(this,_).port.onmessage=({data:e})=>(0,o._)(this,I,T).call(this,e),(0,a._)(this,_).port.postMessage({connect:{url:t,refreshUrl:r,options:d}})}};function T(e){let{channel:t}=e;if("presence"===e.type){let r=(0,a._)(this,A).get(t);r||(r=(0,g.s)((e,r)=>{(0,a._)(this,x).call(this,e,r),(0,a._)(this,A).delete(t)},100),(0,a._)(this,A).set(t,r)),r((0,a._)(this,E).subscribers(t),e);return}(0,a._)(this,x).call(this,(0,a._)(this,E).subscribers(t),e)}async function N(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let t=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!t)return;let r=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!r)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!n)return;let a=(()=>{let a=(0,y.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,w.nr)()&&"SharedWorker"in window&&"true"!==(0,b.A)("localStorage").getItem("bypassSharedWorker"))try{return new k(e,t,r,n,S,a)}catch{}return new AliveSession(t,r,!1,S,a)})();return window.addEventListener("online",()=>a.online()),window.addEventListener("offline",()=>a.offline()),window.addEventListener("pagehide",()=>{"hangup"in a&&a.hangup()}),a}async function P(){return await v.G,N()}function R(){return n||(n=P())}},73056:(e,t,r)=>{r.d(t,{$:()=>s});var n=r(10204),a=r(33303);let i=new WeakMap;function s(e,t,r){let s;if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let o=n.KK.parse(t);if(!o)throw Error("Invalid channel name");let l={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&r(e.detail.data)}},topic:o},c=((s=i.get(e))||(s={subscribe:(0,a.rK)(t=>e.subscribe(t.flat())),unsubscribeAll:(0,a.rK)(t=>e.unsubscribeAll(...t))},i.set(e,s)),s);return c.subscribe([l]),{unsubscribe:()=>c.unsubscribeAll(l.subscriber)}}},87057:(e,t,r)=>{r.d(t,{O:()=>s,S:()=>i});var n=r(71315);let a=n.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",i="X-GitHub-Client-Version";function s(){return a}},34295:(e,t,r)=>{r.d(t,{l:()=>AgentSessionsTokenProvider});var n=r(65411);let AgentSessionsTokenProvider=class AgentSessionsTokenProvider extends n.J{constructor(){super([],"/copilot/agent-sessions/token","AGENT_SESSIONS_TOKEN")}}},33303:(e,t,r)=>{function n(){return Promise.resolve()}function a(){return new Promise(window.requestAnimationFrame)}async function i(e,t){let r,n=new Promise(t=>{r=self.setTimeout(t,e)});if(!t)return n;try{var a;await Promise.race([n,(a=t,new Promise((e,t)=>{let r=Error("aborted");r.name="AbortError",a.aborted?t(r):a.addEventListener("abort",()=>t(r))}))])}catch(e){throw self.clearTimeout(r),e}}function s(e){let t=[];return function(r){t.push(r),1===t.length&&queueMicrotask(()=>{let r=t.slice(0);t.length=0,e(r)})}}r.d(t,{G$:()=>a,k2:()=>n,rK:()=>s,uk:()=>i})},51987:(e,t,r)=>{r.d(t,{jC:()=>l,kt:()=>s,tV:()=>o});var n=r(87057),a=r(69599),i=r(13523);function s(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,i.wE)(e)};return(0,a.G7)("client_version_header")&&(t={...t,[n.S]:(0,n.O)()}),t}function o(e,t){for(let[r,n]of Object.entries(s(t)))e.set(r,n)}function l(e){return{"X-GitHub-App-Type":e}}},13523:(e,t,r)=>{r.d(t,{$r:()=>s,M1:()=>o,li:()=>a,pS:()=>c,wE:()=>l});var n=r(71315);let a="X-Fetch-Nonce",i=new Set;function s(e){i.add(e)}function o(){return i.values().next().value||""}function l(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[a]=o():i.has(e)?t[a]=e:t[a]=Array.from(i).join(","),t}function c(){let e=n.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&s(e)}},53627:(e,t,r)=>{r.d(t,{C3:()=>o,JV:()=>a,K3:()=>d,MM:()=>l,OE:()=>h,Zu:()=>u,bj:()=>i,jc:()=>c,kd:()=>s});var n=r(71315);function a(){return n.Kn?.state||{}}function i(e){p(a(),"",e)}function s(e){n.Kn?.pushState({appId:a().appId},"",e),f()}function o(e){p({...a(),...e},"",location.href)}function l(e){i(`?${e.toString()}${n.fV.hash}`)}function c(){i(n.fV.pathname+n.fV.hash)}function u(e){i(e.startsWith("#")?e:`#${e}`)}function d(){i(n.fV.pathname+n.fV.search)}function h(){n.Kn?.back()}function p(e,t,r){n.Kn?.replaceState(e,t,r),f()}function f(){n.cg?.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}},37285:(e,t,r)=>{r.d(t,{Av:()=>o,BM:()=>a,Gr:()=>l,HX:()=>d,M_:()=>h,RD:()=>u,rb:()=>i});var n=r(71315);let a="GraphQLTraces",i="GraphQLTracingRefresh",s=decodeURIComponent(new URLSearchParams(n.fV.search).get("disable_clusters")||"").split(",").filter(e=>""!==e);function o(e){if(!n.cg||!l()||!e)return;let t=n.cg;t&&!t[a]&&(t[a]=[]),t&&e.__trace&&(t[a].push(e.__trace),"function"==typeof t[i]&&t[i]())}function l(){let e=n.cg;return"true"===new URLSearchParams(n.fV.search).get("_tracing")||e&&void 0!==e[a]}function c(){return s.length>0}function u(e){if(!l()&&!c())return e;let t=new URL(e,n.fV.origin);return l()&&t.searchParams.set("_tracing","true"),c()&&t.searchParams.set("disable_clusters",s.join(",")),t.pathname+t.search}function d(e){return s.indexOf(e)>-1}function h(e){let t=s.indexOf(e);t>-1?s.splice(t,1):s.push(e);let r=new URLSearchParams(n.fV.search);r.set("disable_clusters",s.join(",")),n.fV.search=r.toString()}},30721:(e,t,r)=>{r.d(t,{VB:()=>SSRNetwork,SD:()=>k,E7:()=>I});var n=r(50467),a=r(40961),i=r(69487),s=r(37285),o=r(96379),l=r(71315),c=r(38102);let u=["SAML","SERVICE_UNAVAILABLE"],d={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},h={NOT_FOUND:[["repository","issue"]]};var p=r(51987);function f(e,t){let r=h[e];if(!r)return!1;for(let e of r){if(t.length!==e.length)continue;let r=!0;for(let n=0;n<t.length;n++)if(t[n]!==e[n]&&"*"!==e[n]){r=!1;break}if(r)return!1}return!0}let m=class ValidationError extends Error{constructor(e,t,r){super(e,t),(0,n._)(this,"catalogService",void 0),this.catalogService=r,this.name="ValidationError"}};async function g(e,t,r){if(e.status>401&&404!==e.status){let n=await e.text(),a={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:t,persistedQueryName:r,failureRequestId:e.headers.get("X-Github-Request-Id")},i=`HTTP error (${e.status}): ${n||"No additional text"}.
    Error Info: ${JSON.stringify(a)}`;if(429===e.status)throw{message:i,cause:e.status};throw Error(i,{cause:e.status})}}async function v(e,t,r,n="GET",a,i,s,o){return(await b(e,t,r,n,{isSubscription:!1,scope:void 0},a,i,s,o)).response}async function b(e,t,r,n="POST",a={},o,h,p,g){let v=JSON.stringify((0,i.stableCopy)({query:e,variables:r,...a.scopeObject?{scopeObject:a.scopeObject}:{}})),{isSubscription:y,scope:S,subscriptionTopic:_,dispatchTime:E}=a,C=function(e,t,r,n,a,i,s="/_graphql"){let o=[];if("GET"===e&&o.push(`body=${t}`),r&&o.push("subscription=1"),a&&o.push(`scope=${encodeURIComponent(a)}`),n&&o.push(`subscriptionTopic=${encodeURIComponent(n)}`),i&&o.push(`dispatchTime=${encodeURIComponent(i)}`),l.cg){let e=new URL(l.cg.location.href,l.cg.location.origin).searchParams.get("_features");e&&o.push(`_features=${e}`)}return o.length>0?`${s}?${o.join("&")}`:s}(n,encodeURIComponent(v),y,_,S,E,o),x=null;try{let{subscriptionId:r,requestId:a,json:i,status:o}=await w(C,n,e,t,v,h);if(x=r,p&&i.errors){let e=p[o];if(e)for(let r of i.errors){let n=e[r.type];n?.({persistedQueryName:t,errorMessage:r.message})}}let l=function(e,t,r,n){var a,i;if(a=t,i=e,"errors"in i&&(i.errors.filter(e=>{let t=u.includes(e.type)||!!d[e.type]?.includes(e.message),r=f(e.type,e.path);return t||r}).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${a} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),i.errors=i.errors.filter(e=>{let t=u.includes(e.type)||!!d[e.type]?.includes(e.message),r=f(e.type,e.path);return!t&&!r})),"errors"in e&&e.errors.length){let t=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),a=new m(`${t} (Persisted query id: ${r})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(n)(0,c.N7)(a),n.error(a);else throw a}if(!("data"in e)){let a=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${r}, requestId: ${t}`);if(n)(0,c.N7)(a),n.error(a);else throw a}return e}(i,a,e,g);return l&&(0,s.Av)(l),{subscriptionId:x,response:l}}catch(e){if(g)return"object"==typeof e&&null!==e&&"cause"in e&&429===e.cause||(0,c.N7)(e),g.error(e),{subscriptionId:x,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function w(e,t,r,n,a,i){return y((0,s.RD)(e),t,r,n,a,i)}async function y(e,t,r,n,a,i){let s,l,u={...(0,p.kt)()};i?.issues_react_perf_test&&(u["X-LUC-Environment"]="issues");let d=(s="GET"===t?await fetch(e,{method:t,cache:"no-cache",credentials:"include",headers:{Accept:"application/json",...u}}):await (0,o.DI)(e,{method:t,headers:{Accept:"application/json",...u},...a?{body:a}:void 0})).headers.get("X-Subscription-ID"),h=s.headers.get("X-Github-Request-Id")||"",f=s.status;await g(s,r,n);try{l=await s.json()}catch(r){let t={error:r,status:f,url:e,requestId:h};throw(0,c.N7)(Error(`Failed to parse server JSON response ${JSON.stringify(t)}`)),Error(`Failed to parse server response. Please try again later. ${JSON.stringify(t)}`)}return{subscriptionId:d,requestId:h,json:l,status:f}}let S=[{kind:"linked",handle(e,t,r){if(null!=t&&t.getType()===i.ROOT_TYPE&&"node"===e.name&&r.hasOwnProperty("id"))return r.id}},{kind:"pluralLinked",handle(e,t,r){if(null!=t&&t.getType()===i.ROOT_TYPE&&"nodes"===e.name&&r.hasOwnProperty("ids"))return r.ids}}];var _=r(11418),E=r(73056),C=r(69982);function x(e){return(0,C.unstable_scheduleCallback)(C.unstable_LowPriority,e)}let A={cancel:()=>!1,schedule:e=>((0,a.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,t,r){return this.relayNetwork.execute(e,t,r)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,t={},r,a,s,o){(0,n._)(this,"relayNetwork",void 0),(0,n._)(this,"ssrPreloadedData",void 0),(0,n._)(this,"preloadedSubscriptions",void 0),(0,n._)(this,"warningsShown",void 0),(0,n._)(this,"enabled_features",void 0),(0,n._)(this,"maxAge",void 0),(0,n._)(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=t,this.preloadedSubscriptions=r,this.warningsShown=new Set,this.maxAge=s,this.errorCallbacks=o,this.relayNetwork=i.Network.create((e,t)=>i.Observable.create(r=>{let n=function({params:e,variables:t,ssrPreloadedQueries:r,baseUrl:n,emitWarning:a,enabledFeatures:i,maxAge:s,errorCallbacks:o,observer:c}){if(!e.id)throw Error("params has no id property!");if(e.id&&r){let n=JSON.stringify(t),a=r.get(e.id)?.get(n),i=Math.floor(Date.now()/1e3),o=a?.timestamp;if(a&&(c.next(a),!(s&&o&&i>o+s)))return void c.complete();e.metadata?.isRelayRouteRequest&&(0,l.g5)()}let u="mutation"===e.operationKind?"POST":"GET";if(l.KJ)return v(e.id,e.name,t,u,n,i,o,c)}({params:e,variables:t,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:a,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:s,errorCallbacks:this.errorCallbacks,observer:r});n instanceof Promise&&n.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let t=e.extensions.subscriptions;for(let e in t)for(let r in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),t[e])this.preloadedSubscriptions.get(e)?.set(r,t[e][r])}r.next(e),r.complete()})}),(e,t)=>(function(e,t,r=new Map){let n=e.id,a=e.name;return i.Observable.create(i=>{let s=()=>{},o=!1;return async function(){if(!n)throw Error("unexpected operation with no id!");let l=e.metadata?.scope,u=function(e,t,r,n){let a=n.get(e);if(a)e:for(let[e,n]of a){for(let[n,a]of Object.entries(JSON.parse(e)))if("$scope"===n&&r!==a||t[n]!==a)continue e;return n}}(n,t,l,r),d=null;if(u)d=u.subscriptionId,u.response&&i.next(u.response);else try{let e=await b(n,a,t,"GET",{isSubscription:!0,scope:l});d=e.subscriptionId,e.response&&i.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,_.H)();if(o)return;let r=(0,E.$)(e,d,async({scope_object:e,subscription_topic:r,dispatch_time:s})=>{try{let{response:o}=await b(n,a,{...t},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:r,dispatchTime:s,scope:l});o&&i.next(o)}catch(e){(0,c.N7)(e,{message:`Error in fetching update for ${n} with variables ${JSON.stringify(t)}`})}});r?.unsubscribe&&(s=r.unsubscribe)}catch(e){i.error(e)}}(),{get closed(){return o},unsubscribe(){o=!0,s()}}})})(e,t,this.preloadedSubscriptions))}};let I=(e,t)=>{let r=new SSRNetwork(new Map,{},new Map,e,void 0,t),n=new i.Environment({scheduler:A,store:new i.Store(new i.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:x}),getDataID:(e,t)=>{if("Viewer"===t)return null==e.id?(0,i.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===t){let t=[];return e.id&&t.push(e.id),e.name&&t.push(e.name),e.color&&t.push(e.color),e.description&&t.push(function(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}(e.description)),t.join("_")}return e.id},network:r,missingFieldHandlers:S});return n.options={baseUrl:e,getPreloadedSubscriptions:()=>r.getPreloadedSubscriptions()},n};function k({environment:e,query:t,variables:r={}}){let n=(0,i.getRequest)(t),a=(0,i.createOperationDescriptor)(n,r);return e.retain(a),(0,i.fetchQuery)(e,t,r,{fetchPolicy:"store-or-network"})}},73900:(e,t,r)=>{r.d(t,{Kq:()=>SoftNavErrorEvent,RQ:()=>SoftNavEndEvent,gh:()=>SoftNavPayloadEvent,ni:()=>SoftNavSuccessEvent,sW:()=>SoftNavStartEvent});var n=r(50467),a=r(82591);let i=class SoftNavEvent extends Event{constructor(e,t){super(t),(0,n._)(this,"mechanism",void 0),this.mechanism=e}};let SoftNavStartEvent=class SoftNavStartEvent extends i{constructor(e){super(e,a.z.START)}};let SoftNavSuccessEvent=class SoftNavSuccessEvent extends i{constructor(e,t){super(e,a.z.SUCCESS),(0,n._)(this,"visitCount",void 0),this.visitCount=t}};let SoftNavErrorEvent=class SoftNavErrorEvent extends i{constructor(e,t){super(e,a.z.ERROR),(0,n._)(this,"error",void 0),this.error=t}};let SoftNavEndEvent=class SoftNavEndEvent extends i{constructor(e){super(e,a.z.END)}};let SoftNavPayloadEvent=class SoftNavPayloadEvent extends Event{constructor(e){super("soft-nav:payload"),(0,n._)(this,"payload",void 0),(0,n._)(this,"appPayload",void 0),this.payload=e.payload,this.appPayload=e.appPayload}}},65432:(e,t,r)=>{r.d(t,{Bu:()=>f,SC:()=>c,Ti:()=>h,iS:()=>u,k5:()=>l,o4:()=>d,rZ:()=>p});var n=r(82591),a=r(73900),i=r(15838),s=r(94416);let o=0;function l(){o=0,document.dispatchEvent(new Event(n.z.INITIAL)),(0,s.xT)()}function c(e){(0,s.LM)()||(document.dispatchEvent(new Event(n.z.PROGRESS_BAR.START)),document.dispatchEvent(new a.sW(e)),(0,s.Vy)(e),(0,s.ZW)(),(0,s.HK)(),(0,i.E5)())}function u(e={}){g(e)&&(o+=1,document.dispatchEvent(new a.ni((0,s.di)(),o)),h(e))}function d(e={}){if(!g(e))return;o=0;let t=(0,s.my)()||s.BW;document.dispatchEvent(new a.Kq((0,s.di)(),t)),m(),(0,i.Cd)(t),(0,s.xT)()}function h(e={}){if(!g(e))return;let t=(0,s.di)();m(),document.dispatchEvent(new a.RQ(t)),(0,s.Ff)(),(0,s.JA)(t)}function p(e={}){g(e)&&((0,i.Im)(),document.dispatchEvent(new Event(n.z.RENDER)))}function f(){document.dispatchEvent(new Event(n.z.FRAME_UPDATE))}function m(){document.dispatchEvent(new Event(n.z.PROGRESS_BAR.END))}function g({skipIfGoingToReactApp:e,allowedMechanisms:t=[]}={}){return(0,s.LM)()&&(0===t.length||t.includes((0,s.di)()))&&(!e||!(0,s.gc)())}},82591:(e,t,r)=>{r.d(t,{z:()=>n});let n=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",REPLACE_MECHANISM:"soft-nav:replace-mechanism",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}})},15838:(e,t,r)=>{r.d(t,{Cd:()=>l,E5:()=>o,Im:()=>c,nW:()=>s});var n=r(11083),a=r(94416);let i="stats:soft-nav-duration",s={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function o(){window.performance.clearResourceTimings(),window.performance.mark(i)}function l(e){(0,n.i)({turboFailureReason:e,turboStartUrl:(0,a.dR)(),turboEndUrl:window.location.href})}function c(){let e=function(){if(0===performance.getEntriesByName(i).length)return null;performance.measure(i,i);let e=performance.getEntriesByName(i).pop();return e?e.duration:null}();if(!e)return;let t=s[(0,a.di)()],r=Math.round(e);t===s.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:r}})),(0,n.i)({requestUrl:window.location.href,softNavigationTiming:{mechanism:t,destination:(0,a.fX)()||"rails",duration:r,initiator:(0,a.Pv)()||"rails"}})}},8625:(e,t,r)=>{r.d(t,{H:()=>a});var n=r(96540);let a=({inputRef:e,fallbackEventHandler:t})=>(0,n.useCallback)((r,n,a)=>{let i=e.current;if(!i)return;let s=document.activeElement;i.focus();let o=n??[i.selectionStart??i.value.length,i.selectionEnd??i.value.length],l=void 0===a?((e,t,r)=>{let n=t[1]-t[0];return e<t[0]?e:e<t[1]?t[0]+r:e+(r-n)})(i.selectionStart??i.value.length,o,r.length):Array.isArray(a)?a[0]:a,c=Array.isArray(a)?a[1]:l,u=!1;try{if(document.activeElement!==i)throw Error("Input must be focused to use execCommand");i.setSelectionRange(o[0],o[1]),u=""===r?document.execCommand("delete",!1):document.execCommand("insertText",!1,r),i.setSelectionRange(l,c)}catch{u=!1}if((s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement)&&s.focus(),!u){let n=i.value.slice(0,o[0])+r+i.value.slice(o[1]),a=new InputEvent("input",{bubbles:!1});e.current.value=n,e.current.setSelectionRange(l,c),e.current.dispatchEvent(a),t(((e,t)=>({...e,nativeEvent:e,target:t,currentTarget:t,preventDefault:()=>e.preventDefault(),isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>!1,persist:()=>({})}))(a,e.current))}},[e,t])},28195:(e,t,r)=>{r.d(t,{p:()=>g});var n=r(74848),a=r(21728),i=r(1992),s=r(26108),o=r(21373),l=r(5524),c=r(69726),u=r(34164),d=r(38621),h=r(51120),p=r(42455);let f={anchor:"SubAgentSelector-module__anchor--_VXhV",iconButton:"SubAgentSelector-module__iconButton--ixTes",checkIcon:"SubAgentSelector-module__checkIcon--sIlHa"},m=e=>{let t,r,i,s,o=(0,a.c)(5);return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("path",{d:"M5.75 7.5C6.16421 7.5 6.5 7.83579 6.5 8.25V9.75C6.5 10.1642 6.16421 10.5 5.75 10.5C5.33579 10.5 5 10.1642 5 9.75V8.25C5 7.83579 5.33579 7.5 5.75 7.5Z",fill:"currentColor"}),r=(0,n.jsx)("path",{d:"M11 8.25C11 7.83579 10.6642 7.5 10.25 7.5C9.83579 7.5 9.5 7.83579 9.5 8.25V9.75C9.5 10.1642 9.83579 10.5 10.25 10.5C10.6642 10.5 11 10.1642 11 9.75V8.25Z",fill:"currentColor"}),i=(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.25 0C5.83579 0 5.5 0.335786 5.5 0.75C5.5 1.16421 5.83579 1.5 6.25 1.5H7.5V3.5H3.75C2.50736 3.5 1.5 4.50736 1.5 5.75V8H0.75C0.335786 8 0 8.33579 0 8.75C0 9.16421 0.335786 9.5 0.75 9.5H1.5V12.25C1.5 13.4926 2.50736 14.5 3.75 14.5H12.25C13.4926 14.5 14.5 13.4926 14.5 12.25V9.5H15.25C15.6642 9.5 16 9.16421 16 8.75C16 8.33579 15.6642 8 15.25 8H14.5V5.75C14.5 4.50736 13.4926 3.5 12.25 3.5H9V0.75C9 0.335786 8.66421 0 8.25 0H6.25ZM3 5.75C3 5.33579 3.33579 5 3.75 5H12.25C12.6642 5 13 5.33579 13 5.75V12.25C13 12.6642 12.6642 13 12.25 13H3.75C3.33579 13 3 12.6642 3 12.25V5.75Z",fill:"currentColor"}),o[0]=t,o[1]=r,o[2]=i):(t=o[0],r=o[1],i=o[2]),o[3]!==e?(s=(0,n.jsxs)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[t,r,i]}),o[3]=e,o[4]=s):s=o[4],s};function g(e){let t,r,g,b,w,y,S,_,E=(0,a.c)(25),{repo:C,branch:x,selectedAgent:A,onSelect:I,iconOnly:k,disabled:T}=e,N=void 0===k||k,P=void 0!==T&&T;E[0]!==C?(t={repo:C},E[0]=C,E[1]=t):t=E[1];let{data:R,isLoading:j}=function(e){let t,r=(0,a.c)(3),{repo:n}=e;return r[0]!==n.nameOnly||r[1]!==n.owner?(t={queryKey:["custom-agents",n.owner,n.nameOnly],queryFn:async()=>{try{let e=await (0,h.I)({path:`/agents/swe/custom-agents/${n.owner}/${n.nameOnly}`});if(404===e.status)return[];return(await e.json()).agents}catch{return[]}}},r[0]=n.nameOnly,r[1]=n.owner,r[2]=t):t=r[2],(0,p.b)(t)}(t);E[2]!==R||E[3]!==A?(r=R?.find(e=>e.name===A),E[2]=R,E[3]=A,E[4]=r):r=E[4];let L=r,O=L?.display_name||L?.name,M=new URLSearchParams({filename:".github/agents/my-agent.md",value:`---
name:
description:
---

# My Agent

Describe what your agent does here...`}),$=`/${C.owner}/${C.nameOnly}/new/${x}?${M.toString()}`,D=O||"None",V=O?`Select a subagent, selected: ${O}`:"Select a subagent";return E[5]!==V||E[6]!==P||E[7]!==N||E[8]!==A||E[9]!==D?(g=(0,n.jsx)(i.W.Anchor,{children:N?(0,n.jsx)(s.K,{className:(0,u.$)(f.anchor,f.iconButton),icon:v,"aria-label":V,"data-selected":!!A,disabled:P}):(0,n.jsx)(o.Q,{leadingVisual:m,trailingAction:d.TriangleDownIcon,"aria-label":V,className:f.anchor,"data-selected":!!A,disabled:P,children:D})}),E[5]=V,E[6]=P,E[7]=N,E[8]=A,E[9]=D,E[10]=g):g=E[10],E[11]!==R||E[12]!==j||E[13]!==I||E[14]!==A?(b=j?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.l.Item,{children:[(0,n.jsx)(l.l.LeadingVisual,{children:(0,n.jsx)(c.A,{size:"small"})}),"Loading"]}),(0,n.jsx)(l.l.Divider,{})]}):R&&R.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.l.Group,{selectionVariant:"single",children:[(0,n.jsx)(l.l.Item,{selected:null===A,onSelect:()=>I(null),children:"None"}),R.map(e=>(0,n.jsx)(l.l.Item,{selected:A===e.name,onSelect:()=>I(e.name),children:e.display_name||e.name},e.name))]}),(0,n.jsx)(l.l.Divider,{})]}),E[11]=R,E[12]=j,E[13]=I,E[14]=A,E[15]=b):b=E[15],E[16]===Symbol.for("react.memo_cache_sentinel")?(w=(0,n.jsx)(l.l.LeadingVisual,{children:(0,n.jsx)(d.PlusIcon,{})}),E[16]=w):w=E[16],E[17]!==$?(y=(0,n.jsx)(l.l.Group,{selectionVariant:!1,children:(0,n.jsxs)(l.l.LinkItem,{href:$,target:"_blank",children:[w,"Create an agent"]})}),E[17]=$,E[18]=y):y=E[18],E[19]!==b||E[20]!==y?(S=(0,n.jsx)(i.W.Overlay,{width:"auto",children:(0,n.jsxs)(l.l,{children:[b,y]})}),E[19]=b,E[20]=y,E[21]=S):S=E[21],E[22]!==g||E[23]!==S?(_=(0,n.jsxs)(i.W,{children:[g,S]}),E[22]=g,E[23]=S,E[24]=_):_=E[24],_}let v=e=>{let t,r,i,s=(0,a.c)(5);return s[0]!==e?(t=(0,n.jsx)(m,{...e}),s[0]=e,s[1]=t):t=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(b,{}),s[2]=r):r=s[2],s[3]!==t?(i=(0,n.jsxs)(n.Fragment,{children:[t,r]}),s[3]=t,s[4]=i):i=s[4],i},b=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("svg",{className:f.checkIcon,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[(0,n.jsx)("path",{d:"M7.41406 1.63379C7.75703 1.66786 8.08279 1.80212 8.34961 2.02051L8.47754 2.13672L8.47852 2.1377C8.806 2.46569 8.99015 2.91038 8.99023 3.37402C8.99023 3.7798 8.84934 4.17121 8.59473 4.48242L8.47852 4.61133L5.22754 7.8623C4.89954 8.18968 4.45486 8.37398 3.99121 8.37402C3.52761 8.37402 3.08292 8.18965 2.75488 7.8623L1.49121 6.59863L1.47949 6.58594C1.17042 6.25422 1.00181 5.8156 1.00977 5.3623L1.02148 5.19336C1.06638 4.80245 1.2419 4.43583 1.52246 4.15527C1.84299 3.83487 2.27541 3.65165 2.72852 3.64355L2.89844 3.64844C3.23454 3.67514 3.55557 3.79897 3.82324 4.00391L3.95312 4.1123L3.99121 4.15039L6.00391 2.1377V2.13672C6.33205 1.80893 6.77743 1.625 7.24121 1.625L7.41406 1.63379Z",fill:"#0969DA"}),(0,n.jsx)("path",{d:"M7.41406 1.63379C7.75703 1.66786 8.08279 1.80212 8.34961 2.02051L8.47754 2.13672L8.47852 2.1377C8.806 2.46569 8.99015 2.91038 8.99023 3.37402C8.99023 3.7798 8.84934 4.17121 8.59473 4.48242L8.47852 4.61133L5.22754 7.8623C4.89954 8.18968 4.45486 8.37398 3.99121 8.37402C3.52761 8.37402 3.08292 8.18965 2.75488 7.8623L1.49121 6.59863L1.47949 6.58594C1.17042 6.25422 1.00181 5.8156 1.00977 5.3623L1.02148 5.19336C1.06638 4.80245 1.2419 4.43583 1.52246 4.15527C1.84299 3.83487 2.27541 3.65165 2.72852 3.64355L2.89844 3.64844C3.23454 3.67514 3.55557 3.79897 3.82324 4.00391L3.95312 4.1123L3.99121 4.15039L6.00391 2.1377V2.13672C6.33205 1.80893 6.77743 1.625 7.24121 1.625L7.41406 1.63379Z",stroke:"white",strokeWidth:"2"}),(0,n.jsx)("path",{d:"M7.41406 1.63379C7.75703 1.66786 8.08279 1.80212 8.34961 2.02051L8.47754 2.13672L8.47852 2.1377C8.806 2.46569 8.99015 2.91038 8.99023 3.37402C8.99023 3.7798 8.84934 4.17121 8.59473 4.48242L8.47852 4.61133L5.22754 7.8623C4.89954 8.18968 4.45486 8.37398 3.99121 8.37402C3.52761 8.37402 3.08292 8.18965 2.75488 7.8623L1.49121 6.59863L1.47949 6.58594C1.17042 6.25422 1.00181 5.8156 1.00977 5.3623L1.02148 5.19336C1.06638 4.80245 1.2419 4.43583 1.52246 4.15527C1.84299 3.83487 2.27541 3.65165 2.72852 3.64355L2.89844 3.64844C3.23454 3.67514 3.55557 3.79897 3.82324 4.00391L3.95312 4.1123L3.99121 4.15039L6.00391 2.1377V2.13672C6.33205 1.80893 6.77743 1.625 7.24121 1.625L7.41406 1.63379Z",stroke:"#DDF4FF",strokeWidth:"2"})]}),t[0]=e):e=t[0],e};try{g.displayName||(g.displayName="SubAgentSelector")}catch{}try{v.displayName||(v.displayName="IconWithCheck")}catch{}try{b.displayName||(b.displayName="CheckIcon")}catch{}},97189:(e,t,r)=>{r.d(t,{Fn:()=>l,eS:()=>o});var n=r(74848),a=r(21728),i=r(96540);let s=(0,i.createContext)(void 0);function o(){let e=(0,i.useContext)(s);if(!e)throw Error("useConsecutiveCAPI401sContext must be used within a ConsecutiveCAPI401sProvider");return e}function l(e){let t,r,o,l,u=(0,a.c)(7),{children:d}=e,[h,p]=(0,i.useState)(0);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>p(c),r=()=>p(0),u[0]=t,u[1]=r):(t=u[0],r=u[1]),u[2]!==h?(o={numberOf401s:h,increment401s:t,reset401s:r},u[2]=h,u[3]=o):o=u[3];let f=o;return u[4]!==d||u[5]!==f?(l=(0,n.jsx)(s.Provider,{value:f,children:d}),u[4]=d,u[5]=f,u[6]=l):l=u[6],l}function c(e){return e+1}try{s.displayName||(s.displayName="ConsecutiveCAPI401sContext")}catch{}try{l.displayName||(l.displayName="ConsecutiveCAPI401sProvider")}catch{}},42455:(e,t,r)=>{r.d(t,{b:()=>l});var n=r(97286),a=r(51120),i=r(97189),s=r(34295),o=r(96540);function l(...e){let t=(0,n.I)(...e),{numberOf401s:r,increment401s:c,reset401s:u}=(0,i.eS)(),{isError:d,isLoading:h,error:p}=t;return(0,o.useEffect)(()=>{d&&p instanceof a.j?c():d||h?r>5&&(new s.l().removeLocalStorageAuthToken(),u()):u()},[d,h,p,c,u,r]),t}},95304:(e,t,r)=>{r.d(t,{Oe:()=>h,P0:()=>d});var n=r(21728),a=r(96540),i=r(97286),s=r(96379),o=r(25407),l=r(69599),c=r(47723);async function u(e){try{let[t,r]=e.split("/");if(!t||!r)return null;let n=(0,o.SHX)({owner:t,repo:r}),a=await (0,s.lS)(n);if(a.ok){let e=await a.json();return e?.payload.repo.defaultBranch||null}return null}catch{return null}}async function d(e="",t){let r=new URL(c.XT,window.location.origin);e.trim()&&r.searchParams.set("q",e.trim()),t&&(0,l.G7)("issues_copilot_repo_search_in_org")&&r.searchParams.set("defaultOwner",t);let n=await (0,s.lS)(r.href);return n.ok?(await n.json()).repositories.map(e=>({id:e.id,nameWithOwner:e.nameWithOwner,enabled:e.enabled,name:e.nameWithOwner,nameOnly:e.name,owner:e.owner,defaultBranch:e.defaultBranch,private:"public"!==e.visibility})):[]}function h(e){let t,r,s,o,l,c,d,h,p,f,m=(0,n.c)(30);m[0]!==e.owner.login?(t={login:e.owner.login},m[0]=e.owner.login,m[1]=t):t=m[1],m[2]!==e.databaseId||m[3]!==e.defaultBranch||m[4]!==e.isPrivate||m[5]!==e.name||m[6]!==t?(r={databaseId:e.databaseId,name:e.name,defaultBranch:e.defaultBranch,owner:t,isPrivate:e.isPrivate},m[2]=e.databaseId,m[3]=e.defaultBranch,m[4]=e.isPrivate,m[5]=e.name,m[6]=t,m[7]=r):r=m[7];let g=r,[v,b]=(0,a.useState)(null),[w,y]=(0,a.useState)(""),[S,_]=(0,a.useState)(!1),{data:E,isLoading:C}=function(e,t){let r,a,s,o=(0,n.c)(7),l=void 0===t||t;return o[0]!==e?(r=["repository-default-branch",e],a=()=>u(e??""),o[0]=e,o[1]=r,o[2]=a):(r=o[1],a=o[2]),o[3]!==l||o[4]!==r||o[5]!==a?(s={queryKey:r,queryFn:a,enabled:l,staleTime:3e5,gcTime:6e5,retry:1},o[3]=l,o[4]=r,o[5]=a,o[6]=s):s=o[6],(0,i.I)(s)}(`${g.owner.login}/${g.name}`,!g.defaultBranch);m[8]!==v||m[9]!==g.databaseId||m[10]!==g.defaultBranch||m[11]!==g.isPrivate||m[12]!==g.name||m[13]!==g.owner.login?(s=()=>{if(v)return;let e=`${g.owner.login}/${g.name}`;b({id:g.databaseId||0,owner:g.owner.login,name:e,nameOnly:g.name,nameWithOwner:e,enabled:!0,defaultBranch:g.defaultBranch||"",private:g.isPrivate||!1}),g.defaultBranch&&y(g.defaultBranch)},m[8]=v,m[9]=g.databaseId,m[10]=g.defaultBranch,m[11]=g.isPrivate,m[12]=g.name,m[13]=g.owner.login,m[14]=s):s=m[14],m[15]!==v||m[16]!==g?(o=[g,v],m[15]=v,m[16]=g,m[17]=o):o=m[17],(0,a.useEffect)(s,o),m[18]!==C?(l=()=>{_(C)},c=[C],m[18]=C,m[19]=l,m[20]=c):(l=m[19],c=m[20]),(0,a.useEffect)(l,c),m[21]!==E||m[22]!==g.defaultBranch?(d=()=>{E&&!g.defaultBranch&&(y(E),b(e=>e?{...e,defaultBranch:E}:e))},h=[E,g.defaultBranch],m[21]=E,m[22]=g.defaultBranch,m[23]=d,m[24]=h):(d=m[23],h=m[24]),(0,a.useEffect)(d,h),m[25]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{e&&(_(!1),b(e),y(e.defaultBranch))},m[25]=p):p=m[25];let x=p;return m[26]!==S||m[27]!==w||m[28]!==v?(f={selectedRepo:v,selectedBranch:w,isLoadingBranch:S,setSelectedBranch:y,handleRepoSelect:x},m[26]=S,m[27]=w,m[28]=v,m[29]=f):f=m[29],f}},9711:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(21728),a=r(95304);function i(e){let t,r=(0,n.c)(2);return r[0]!==e?(t=t=>(0,a.P0)(t,e),r[0]=e,r[1]=t):t=r[1],t}},71555:(e,t,r)=>{r.d(t,{a:()=>N});var n=r(74848),a=r(70170),i=r(71315),s=r(83494),o=r(8625),l=r(50691),c=r(21513),u=r(56149),d=r(34164),h=r(24249),p=r(96540),f=r(5524),m=r(50463),g=r(63307),v=r(40090);let b={Overlay_0:"AutocompleteSuggestions-module__Overlay_0--LMGK_",suggestion:"AutocompleteSuggestions-module__suggestion--ted1j",ActionList_0:"AutocompleteSuggestions-module__ActionList_0--iXEKc"},w=new Set([" ",`
`]),y=new Set([".",`
`]),S=e=>"string"==typeof e?e:e.value,_=e=>"string"==typeof e?e:null===e.value?e.key:e.key??e.value,E=(...e)=>t=>{for(let r of[...e].reverse())t.isDefaultPrevented()||r?.(t)},C=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.l.Item,{disabled:!0,children:(0,n.jsx)(v.r,{})}),(0,n.jsx)(f.l.Item,{disabled:!0,children:(0,n.jsx)(v.r,{})}),(0,n.jsx)(f.l.Item,{disabled:!0,children:(0,n.jsx)(v.r,{})})]}),x=({suggestion:e,onSelect:t,isActive:r,id:a,parentRole:i})=>{let s={id:a,children:S(e),role:"menu"===i?"menuitem":"option",active:r,className:b.suggestion,"aria-selected":"listbox"===i&&!!r||void 0,onMouseDown:e=>{e.preventDefault(),t()}};return"string"==typeof e?(0,n.jsx)(f.l.Item,{...s}):e.render(s)},A=({suggestions:e,portalName:t,triggerCharCoords:r,onClose:a,onCommit:i,inputRef:s,visible:o,defaultPlacement:l,activeSuggestion:c,getSuggestionId:u,id:d,menuTitle:h,role:v})=>{let w=(0,p.useRef)(null),[y,S]=(0,p.useState)(0),[E,A]=(0,p.useState)("auto");(0,m.A)(function(){A("auto");let e=w.current?.offsetHeight??0,t=r.top+r.height,n=t+e>window.innerHeight,a=r.top-e,i=a<0,s={below:n&&!i?a:t,above:i&&!n?t:a}[l];if(Number.isNaN(s)&&(s=0),S(Math.max(0,s)),n&&i){let e="above"===l?window.innerHeight+s:window.innerHeight-s;A(`${e}px`)}},[r.top,r.height,e,o,l]);let I=(0,n.jsx)(n.Fragment,{children:"loading"===e?(0,n.jsx)(C,{}):e?.map(e=>(0,n.jsx)(x,{suggestion:e,id:u(e),onSelect:()=>i(e),isActive:c===e,parentRole:v},_(e)))}),k=(0,p.useId)();return o?(0,n.jsx)(g.Ay,{onEscape:a,onClickOutside:a,returnFocusRef:s,preventFocusOnOpen:!0,portalContainerName:t,top:y,left:r.left,ref:w,className:b.Overlay_0,children:(0,n.jsx)(f.l,{role:v,id:d,"aria-label":h?void 0:"Autocomplete suggestions","aria-labelledby":h?k:void 0,className:b.ActionList_0,style:{height:E},children:h?(0,n.jsxs)(f.l.Group,{children:[(0,n.jsx)(f.l.GroupHeading,{id:k,children:h}),I]}):I})}):(0,n.jsx)(n.Fragment,{})};try{C.displayName||(C.displayName="LoadingIndicator")}catch{}try{x.displayName||(x.displayName="SuggestionListItem")}catch{}try{A.displayName||(A.displayName="AutocompleteSuggestions")}catch{}let I={container:"InlineAutocomplete-module__container--lzMAk",fullWidth:"InlineAutocomplete-module__fullWidth--xhTmc"},k=e=>{try{return e.selectionStart}catch(e){if(e instanceof TypeError)return null;throw e}},T=()=>{},N=({triggers:e,suggestions:t,onShowSuggestions:r,onHideSuggestions:f,onSelectSuggestion:m,style:g,children:v,tabInsertsSuggestions:b=!1,suggestionsPlacement:C="below",portalName:x,fullWidth:N=!1,title:P,asMenu:R,...j})=>{let[,L]=(0,p.useState)(0),O=(0,l.Lf)(j),M=(0,p.useRef)(null);(0,c.T)(v.ref??T,M);let $=function(e,t){if(p.Children.only(e),t.current&&!(t.current instanceof HTMLInputElement)&&!(t.current instanceof HTMLTextAreaElement))throw TypeError("AutocompleteTextarea child must be a component that forwards a ref and props to an <input> or <textarea> element.");return e}(v,M),D=(0,o.H)({inputRef:M,fallbackEventHandler:$.props.onChange??T}),V=(0,p.useRef)(null),B=null!==t&&t.length>0,[F,H]=(0,p.useState)(),W=Array.isArray(t)?t.find(e=>_(e)===F)??t[0]:void 0;F&&!B&&H(void 0),(0,p.useEffect)(()=>{if(B){let e=(0,a.n)(()=>L(e=>e+1),100);return document.addEventListener("scroll",e,{capture:!0}),()=>{document.removeEventListener("scroll",e,{capture:!0})}}},[B]);let q=M.current&&V.current&&B?new h.Qr(M.current,(k(M.current)??0)-V.current.query.length).getBoundingClientRect():{top:0,left:0,height:0},U=e=>{if(!W||!Array.isArray(t))return;let r=e=>{H(e?_(e):void 0)};switch(e){case"up":r(t[t.indexOf(W)-1]??t.at(-1));break;case"down":r(t[t.indexOf(W)+1]??t[0]);break;case"start":r(t[0]);break;case"end":r(t.at(-1))}},G=(e=W)=>{if(!e)return;let t=(e=>"object"==typeof e&&null===e.value)(e),r=S(e)??"";if(!M.current||!V.current)return;let{query:n,trigger:a}=V.current,i=k(M.current)??0,s=n.length+a.triggerChar.length,o=i-s,l=t||(a.keepTriggerCharOnCommit??!0)?a.triggerChar:"",c=!t&&(a.insertSpaceOnCommit??!0),u=`${l}${r}${c?" ":""}`;f(),D(u,[o,o+s]),m?.({suggestion:e,trigger:a,query:n,target:M.current})},K=(0,p.useId)(),z=e=>`${K}-${_(e)}`,X=!R,J=(0,p.cloneElement)($,{...O,onBlur:E($.props.onBlur,()=>{f()}),onKeyDownCapture:E($.props.onKeyDownCapture,e=>{if(B)switch(e.key){case"ArrowRight":case"ArrowLeft":f();break;case"Tab":b||f()}}),onChange:E($.props.onChange,t=>{let n=k(t.currentTarget);if(null===n)return void f();let a=((e,t,r)=>{let n=e.sort((e,t)=>t.triggerChar.length-e.triggerChar.length);for(let e=r-1,a="",i=n;e>=0&&i.length>0;e--){let r=t[e]??"";for(let n of(a=r+a,w.has(r)&&(i=i.filter(e=>e.multiWord)),y.has(r)&&(i=i.filter(e=>!e.multiWord)),i.filter(e=>a.startsWith(e.triggerChar)))){let r=t[e-1]??"",s=a[1]??"";if((!r||/[\s([]/.test(r))&&(!s||!/\s/.test(s)))return{trigger:n,query:a.slice(n.triggerChar.length)};i=i.filter(e=>e!==n)}}return null})(e,t.currentTarget.value,n);V.current=a&&{...a,target:t.currentTarget},V.current?r(V.current):f()}),ref:M,role:B&&X?"combobox":$.props.role,"aria-expanded":B&&X?"true":$.props["aria-expanded"],"aria-activedescendant":W?z(W):$.props["aria-activedescendant"],"aria-controls":B&&X?K:$.props["aria-controls"],"aria-owns":B&&R?K:$.props["aria-owns"],"aria-autocomplete":B&&X?"list":$.props["aria-autocomplete"],"aria-haspopup":B&&X?"listbox":$.props["aria-haspopup"]}),Z=B?"loading"===t?"Loading autocomplete suggestions\u2026":X?`${t.length} autocomplete ${1===t.length?"suggestion":"suggestions"} available; "${S(t[0])}" is highlighted. Press ${b?"Enter or Tab":"Enter"} to select.`:"":"";return(0,n.jsxs)(s.tL,{commands:B?{"github:cancel":()=>f(),"github:select":()=>G(),"github:focus-next":b?()=>G():void 0,"github:down":()=>U("down"),"github:up":()=>U("up"),"github:go-to-start":()=>U("start"),"github:go-to-end":()=>U("end")}:{},className:(0,d.$)(I.container,N&&I.fullWidth),style:g,children:[J,i.KJ&&(0,n.jsx)(A,{id:K,suggestions:t,inputRef:M,onCommit:G,onClose:f,triggerCharCoords:q,visible:B,defaultPlacement:C,portalName:x,activeSuggestion:W,getSuggestionId:z,menuTitle:P,role:R?"menu":"listbox"}),i.KJ&&(0,n.jsx)(u.ZL,{children:(0,n.jsx)("span",{"aria-live":"assertive","aria-atomic":!0,style:{clipPath:"circle(0)",position:"absolute"},children:Z})})]})};try{N.displayName||(N.displayName="InlineAutocomplete")}catch{}},46642:(e,t,r)=>{r.d(t,{P:()=>u});var n=r(74848),a=r(96540),i=r(38621),s=r(69497),o=r(21373),l=r(70170),c=r(86391);function u({currentSelection:e,repositoryLoader:t,onSelect:r,selectionVariant:u,selectAllOption:d,additionalButtonProps:h,buttonText:p="",width:f,truncateMaxWidth:m,height:g,fullscreenOnNarrow:v,defaultOwner:b}){let[w,y]=(0,a.useState)(""),[S,_]=(0,a.useState)([]),[E,C]=(0,a.useState)(!0),x=(0,a.useCallback)((0,l.s)(async e=>{try{let r=await t(e,b);_(r)}catch{}C(!1)},200),[t,b]);(0,a.useEffect)(()=>{C(!0),x(w)},[w,x,C]);let A=(0,a.useCallback)(e=>{"single"===u?!e[0]||e[0]._all?r(void 0):r(e[0]):r(e)},[u,r]),I=(0,a.useMemo)(()=>"multiple"===u?e||[]:e?[e]:[],[u,e]),k=(0,a.useCallback)(e=>{let t,r="medium"===f?35:"large"===f?60:24;return(e.name.length>r&&(t=`${e.name.substring(0,r)}...`),e._all)?{id:e.name,text:"All repositories",source:e,groupId:"all"}:{id:e.name,text:t||e.name,source:e,groupId:"select",disabled:!1===e.enabled,leadingVisual:()=>e.private?(0,n.jsx)(i.RepoLockedIcon,{size:16}):(0,n.jsx)(i.RepoIcon,{size:16})}},[f]),T=(0,a.useCallback)(e=>e.name,[]),N=(0,a.useMemo)(()=>{let e=[];return e.push(...I.filter(e=>S.every(t=>t.name!==e.name))||[]),e.push(...S),d&&e.push({name:"$all$",_all:!0}),e},[S,d,I]),P=p,R=i.RepoIcon;return P||("multiple"===u?P=I.length>0?`${I.length} repositor${I.length>1?"ies":"y"}`:"Select repositories":I.length>0&&I[0]?(P=I[0].name,R=I[0].private?i.RepoLockedIcon:i.RepoIcon):P=d?"All repositories":"Select a repository"),(0,n.jsx)(c.O,{renderAnchor:({"aria-labelledby":e,...t})=>(0,n.jsx)(o.Q,{leadingVisual:R,trailingAction:i.TriangleDownIcon,"aria-labelledby":e,...t,...h,children:(0,n.jsx)(s.A,{title:P,maxWidth:m??195,children:P})}),placeholderText:"Search",items:N,loading:E,groups:d?[{groupId:"all"},{groupId:"select"}]:[],selectionVariant:u,initialSelectedItems:I,onSelectionChange:A,filterItems:y,getItemKey:T,convertToItemProps:k,title:"Select a repository",width:f,height:g,responsiveOnNarrow:v})}try{u.displayName||(u.displayName="ReposSelector")}catch{}}}]);
//# sourceMappingURL=packages_history_history_ts-packages_relay-environment_relay-environment_ts-packages_soft-nav-c373e9-1d1d02fb147d.js.map